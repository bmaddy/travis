<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: ActsAsSolr::ActsMethods</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">ActsAsSolr::ActsMethods</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/acts_methods_rb.html">
                lib/acts_methods.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000171">acts_as_solr</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="InstanceMethods.html">InstanceMethods</a></span>
        <span class="include-name"><a href="CommonMethods.html">CommonMethods</a></span>
        <span class="include-name"><a href="ParserMethods.html">ParserMethods</a></span>
      </div>
    </div>

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000171" class="method-detail">
        <a name="M000171"></a>

        <div class="method-heading">
          <a href="ActsMethods.src/M000171.html" target="Code" class="method-signature"
            onclick="popupCode('ActsMethods.src/M000171.html');return false;">
          <span class="method-name">acts_as_solr</span><span class="method-args">(options={}, solr_options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
declares a class as solr-searchable
</p>
<h4>options:</h4>
<table>
<tr><td valign="top">fields:</td><td>This option can be used to specify only the fields you&#8216;d like to
index. If not given, all the attributes from the class will be indexed. You
can also use this option to include methods that should be indexed as
fields

<pre>
 class Movie &lt; ActiveRecord::Base
   acts_as_solr :fields =&gt; [:name, :description, :current_time]
   def current_time
     Time.now.to_s
   end
 end
</pre>
<p>
Each field passed can also be a hash with the value being a field type
</p>
<pre>
 class Electronic &lt; ActiveRecord::Base
   acts_as_solr :fields =&gt; [{:price =&gt; :range_float}]
   def current_time
     Time.now
   end
 end
</pre>
<p>
The field types accepted are:
</p>
<table>
<tr><td valign="top">:float:</td><td>Index the field value as a float (ie.: 12.87)

</td></tr>
<tr><td valign="top">:integer:</td><td>Index the field value as an integer (ie.: 31)

</td></tr>
<tr><td valign="top">:boolean:</td><td>Index the field value as a boolean (ie.: true/false)

</td></tr>
<tr><td valign="top">:date:</td><td>Index the field value as a date (ie.: Wed Nov 15 23:13:03 PST 2006)

</td></tr>
<tr><td valign="top">:string:</td><td>Index the field value as a text string, not applying the same indexing
filters as a regular text field

</td></tr>
<tr><td valign="top">:range_integer:</td><td>Index the field value for integer range queries (ie.:[5 TO 20])

</td></tr>
<tr><td valign="top">:range_float:</td><td>Index the field value for float range queries (ie.:[14.56 TO 19.99])

</td></tr>
</table>
<p>
Setting the field type preserves its original type when indexed
</p>
</td></tr>
<tr><td valign="top">additional_fields:</td><td>This option takes fields to be include in the index in addition to those
derived from the database. You can also use this option to include custom
fields derived from methods you define. This option will be ignored if the
:fields option is given. It also accepts the same field types as the option
above

<pre>
 class Movie &lt; ActiveRecord::Base
  acts_as_solr :additional_fields =&gt; [:current_time]
  def current_time
    Time.now.to_s
  end
 end
</pre>
</td></tr>
<tr><td valign="top">exclude_fields:</td><td>This option taks an array of fields that should be ignored from indexing:

<pre>
  class User &lt; ActiveRecord::Base
    acts_as_solr :exclude_fields =&gt; [:password, :login, :credit_card_number]
  end
</pre>
</td></tr>
<tr><td valign="top">include:</td><td>This option can be used for association indexing, which means you can
include any :has_one, :has_many, :belongs_to and :has_and_belongs_to_many
association to be indexed:

<pre>
 class Category &lt; ActiveRecord::Base
   has_many :books
   acts_as_solr :include =&gt; [:books]
 end
</pre>
</td></tr>
<tr><td valign="top">facets:</td><td>This option can be used to specify the fields you&#8216;d like to index as
facet fields

<pre>
 class Electronic &lt; ActiveRecord::Base
   acts_as_solr :facets =&gt; [:category, :manufacturer]
 end
</pre>
</td></tr>
<tr><td valign="top">boost:</td><td>You can pass a boost (float) value that will be used to boost the document
and/or a field:

<pre>
  class Electronic &lt; ActiveRecord::Base
    acts_as_solr :fields =&gt; [{:price =&gt; {:boost =&gt; 5.0}}], :boost =&gt; 10.0
  end
</pre>
</td></tr>
<tr><td valign="top">if:</td><td>Only indexes the record if the condition evaluated is true. The argument
has to be either a symbol, string (to be eval&#8216;ed), proc/method, or
class implementing a static validation method. It behaves the same way as
ActiveRecord&#8216;s :if option.

<pre>
  class Electronic &lt; ActiveRecord::Base
    acts_as_solr :if =&gt; proc{|record| record.is_active?}
  end
</pre>
</td></tr>
<tr><td valign="top">auto_commit:</td><td>The commit command will be sent to <a href="../Solr.html">Solr</a> only if
its value is set to true:

<pre>
  class Author &lt; ActiveRecord::Base
    acts_as_solr :auto_commit =&gt; false
  end
</pre>
</td></tr>
</table>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>